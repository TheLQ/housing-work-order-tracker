<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (C) 2012 Leon Blakey <lord.quackstar at gmail.com>, RATS 2012

    This file is part of Housing WorkOrder System.

-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
	<head>
		<title>Housing WorkOrders</title>
		<link href="css/bootstrap.min.css" rel="stylesheet"/>
		<link href="css/main.css" rel="stylesheet"/>
	</head>
	<body style="padding-left: 4px; background-color: /*#F0F0F0*/white;">
		<div class="row-fluid">
			<div class="span6 form-inline" style="font-weight:bold; text-align: center">
				<form target="transFrame" method="POST" action="/processData"  >
					<!-- Header -->
					<div class="well" style="text-align: center">
						<h2>Housing - RATS Work Orders</h2>
						<h3>Ticket Manager</h3>
					</div>
					<!-- Building and room select -->
					<div>
						Building: <select name="building" wicket:id="building"></select>
						Room: <input type="text" name="usrname" maxlength="3"/>
						<p>Status: Loaded 1 issue(s) from test</p>
					</div>
					<!-- Issue Select template -->
					<div class="well well-small" id="issuesBox">
						<span><i class="icon-question-sign"></i></span>
						Issue: <select wicket:id="issues" name="issue" id="issue"></select>
						Notes: <input type="text" name="note" id="note"/>
					</div>
					<button id="plus" class="btn btn-info"><i class="icon-plus"></i>Add Issue</button>
					<button id="minus" class="btn btn-warning"><i class="icon-search"></i>Remove Issue</button>
					<button type="Submit" name="Submit" value="Submit" id="submit" class="btn btn-success"><i class=" icon-ok-sign"></i>Submit</button>
					<p>Submit Status: <span id="submitStatus">Waiting</span></p>
				</form>
				<!-- Invisible frame that the form submits to in background -->
				<iframe style="" name="transFrame" id="transFrame"></iframe>
			</div>
			<div class="span6 well" wicket:id="hello">Part 2</div>
		</div>


		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>
		<script type="text/javascript" src="js/jquery-dynamic-form.js"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				//Issue Duplication
				$("#issuesBox").dynamicForm("#plus", "#minus", {limit:3, createColor:'yellow',	removeColor: 'red'});
				
				//Magic submit
				$("#submit").bind('click', function(event) {
					$("#submitStatus").text("Submitting...");
				});
				
				$('#transFrame').ready(function () {alert("loaded")});
			});
		</script>
	</body>
</html>