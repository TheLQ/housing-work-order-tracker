<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright (C) 2012 Leon Blakey <lord.quackstar at gmail.com>, RATS 2012

    This file is part of University of Louisville Housing WorkOrder System.

-->
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
	<head>
		<title>Housing WorkOrders</title>
		<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.1.0/css/bootstrap-combined.min.css" rel="stylesheet"/>
		<link href="css/main.css" rel="stylesheet"/>
	</head>
	<body style="padding-left: 4px; background-color: /*#F0F0F0*/white;">
		<div class="row-fluid">
			<div class="span6 form-inline" style="font-weight:bold; text-align: center">
				<form method="POST" action="processData?mode=form" id="mainForm">
					<!-- Header -->
					<div class="well well-small" style="text-align: center; width: 100%">
						<h2>Housing - RATS Work Orders</h2>
						<h3>Ticket Manager</h3>
						<div class="row-fluid offset3" id="modeContainer">
							<div class="span6">
								Mode: <select id="modeSelect" name="modeSelect">
									<option value="Normal">Normal</option>
									<option value="Walkthrough">Walkthrough</option>
									<option value="AutoFix">AutoFix</option>
								</select>
							</div>
							<div class="span6" id="autoFixContainer" style="display: none">
								AutoFixed Issues:
								<select id="autoFix" name="autoFix" wicket:id="autoFix" multiple="multiple"></select>
							</div>
						</div>
					</div>
					<!-- Building and room select -->
					<div>
						<div style="float: left; width: 50%"><label>Building: <br/><select name="building" id="building" wicket:id="building"></select></label></div>
						<div style="float: right; width: 50%"><label>Room: <br/><input type="text" name="room" id="room" maxlength="3"/></label></div>
						<p style="clear: both">Status: <span id="roomStatus"></span></p>
					</div>
					<!-- Issue Select template -->
					<div class="well well-small row-fluid issueBox" id="issueBox0">
						<div class="span6">
							<input type="hidden" name="sheetId" class="sheetId" value="-1"/>
							Issue <span class="issueId">New</span>: <span class="issueInfo"></span>
							<select class="btn-danger issueStatus" name="statusSelect" style="width: 90px">
								<option>Open</option>
								<option>Waiting</option>
								<option>Closed</option>
							</select>
							<!--Issue Select Dropdown-->
							<p/><select wicket:id="issue" name="issue" class="issueSelect"></select>
						</div>
						<div class="span6 notesContainer">
							Notes:
							<div style="padding: 5px" class="notesBox" id="notesBox0">
								<input type="text" name="noteDate" class="noteDate" disabled="disabled"/>
								<textarea rows="3" name="note" class="note"/>
							</div>
							<button class="btn btn-info addNote"><i class="icon-plus"></i>Add Note</button>
							<button class="btn btn-warning removeNote" disabled="disabled"><i class="icon-remove"></i>Remove Note</button>
						</div>
					</div>
					<button id="addIssue" class="btn btn-info"><i class="icon-plus"></i>Add Issue</button>
					<button id="removeIssue" class="btn btn-warning" disabled="disabled"><i class="icon-plus"></i>Remove Issue</button>
					<button id="submit" type="submit" class="btn btn-success"><i class=" icon-ok-sign"></i>Submit</button>
					<br/>Submit Status: <span id="submitStatus">Waiting on input...</span>
				</form>
			</div>
			<div class="span6 form-inline">
				<div class="well well-small" style="text-align: center">
					<h4>Existing Issues</h4>
					<b>Building:</b> <select id="existBuilding" name="existBuilding" wicket:id="existBuilding"></select>
				</div>
				<div class="well well-small">
					<b>Room:</b> Threlkeld 339
					<div class="well well-small" style="margin-bottom: 0px">
						<div class="row-fluid">
							<div class="span4">
								<b>Issue #34:</b>  <span class="label label-important">Open</span>
								<br/>Cable - Broken
							</div>
							<div class="span8" style="text-align: right">
								<b>Opened:</b> Aug 08 2012, 12:36 PM (WT: N) (2 days old)
								<br/><b>Waiting:</b> Aug 09 2012, 03:44 PM (WT: N) (2 days old)
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Libraries -->
		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
		<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.8.23/jquery-ui.min.js"></script>
		<script type="text/javascript" src="//malsup.github.com/jquery.form.js"></script>

		<!-- Our code -->
		<script type="text/javascript" src="js/form-utils.js"></script>
		<script type="text/javascript" src="js/form-duplication.js"></script>
		<script type="text/javascript" src="js/form-automation.js"></script>
		<script type="text/javascript" src="js/form-ajax.js"></script>
	</body>
</html>